# Leabra Random Associator 25 の例

このサンプルプロジェクトは、Leabraモデルのデモおよび基本テンプレートになります。これを自身のモデルを作成するための出発点として使用することができるでしょう。このモデルは，様々なモデルで必要となる共通したタイプの機能を表現するために作られており、コピー＆ペーストによるプログラミングを促進します。

# モデルの実行

最初に、インストール手順については[Wikiのインストール](https://github.com/emer/emergent/wiki/Install)を参照してください。そこには，このディレクトリでモデルコードをビルドする方法が書かれています。これにより、ターミナルコマンドラインから実行可能な`ra25`という名前のファイルが作成されます。

```bash
./ra25
```

そこに書かれてあることにに従えば、[Python](https://github.com/emer/leabra/blob/master/python/README.md)バージョンのモデルも実行することができます。

## 基本的な実行とグラフ化

基本のインターフェイスでは、上部にツールバー、左側に`Sim`フィールドのセット、右側にネットワークビューとさまざまなログのグラフについてのタブがあります。ツールバーでできる操作については，項目にカーソルを合わせることで，何ができるのかを確認できます。処理を高速化するためには、 `ViewOn`フラグをオフにしたり、 `NetVew`タブの代わりにグラフタブに切り替えると良いでしょう。

## テストの実行

Test * （例：Test Trialなど）ボタンを使用すると、実施中のトレーニングに影響を与えることなく、選択した項目を含んだものについてテストをすることができます。これは、[Env](https://github.com/emer/emergent/wiki/Env)インターフェイスの一つの利点で，Envインターフェイスはトレーニングとテストに関連するすべての回数を別々に保持しています。

NetViewは，テストの間，サイクル毎の更新を表示してくれます。これによって，活性値の時間的な進化を視覚的に捉える事ができます。`TestAll`をして`TstTrlPlot`を見れば，すべての項目の現在のパフォーマンスを見ることができます。一方、左側の`TstTrlLog`ボタンをクリックすると、 `TableView`で各アイテムの入力/出力の活性値を確認できます。`TstErrLog`ボタンを押した場合も同様のものが表示されますが、エラーのある試行のみを表示するようにフィルタがかかります。 `TstErrStats`は，これらのエラー試行において統計値を算出します：ここでは特に意味のあるものではありませんが，より構造化された他の環境では意味を持つこともあります。そしてこのすべてを実行するコードは，[etable.Table](https://github.com/emer/etable)システムを使ってデータ分析がどのようになされているのかを表しています。[etable.Table](https://github.com/emer/etable)システムは， Pythonで広く使用されているpandas DataFrame構造に似ており、C++版エマージェントにあった`DataTable`の更新バージョンになります。

## パラメータの探索

[ `Params` ]ボタンをクリックすると、一連のパラメーターが表示されます。このデザインと使用については、wikiページ[Params](https://github.com/emer/emergent/wiki/Params)で詳細に説明されています。 `Init`（初期化）を押すと、 `Base` ParamSetが常に適用されます。その後、 `ParamSet`のフィールドに別のParamSetの名前を入力すると、Baseの後に適用され，基本となるパラメータが他のもので上書きされます。

デフォルト以外のパラメーター設定を確認するには、NetViewツールバーの`Non Def Params`ボタンにそれらを表示し、 `All Params`ボタンにネットワークのすべてのレイヤーと投影の*すべて*のパラメーターを表示します。これは、使用可能なすべてのパラメーターを確認するための良い方法です。

パラメータの実際のパフォーマンスへの影響を判断するには、通常、複数回実行を繰り返して統計値を収集するしかありません。どのように機能するかを確認するには、以下を試してみてください。

- `RunPlot`タブをクリックし，`ResetRunLog`で良い指標を探してください。
- `ParamSet` = emptyで初期化し、 `Train（トレーニング）`を押して、全10回分実行します。デフォルトでは、ネットワークが最初に0エラーになったエポック（ `FirstZero` ）をプロットします。これは、全体的な学習速度と同じくらい良い尺度です。
- それが完了したら、あなたは`RunStats` Table をクリックして、 FirstZeroと、`PctCor` の最後の10のエポックの平均値についての要約統計を見ることができます。そして、それがベースのparamsを使用する際にラベルとなります（翻訳怪しいですby_otiy）。
- 今度は`ParamSet`の部分で`NoMomentum`を 入力し、 `Init（初期化）`および`Train（トレーニング）`を再び実行してください。次に、 `RunStats` Tableボタンをもう一度クリックします（すべての実行が完了するたびに新しいものが生成されるので、古いものを閉じておけば、新しい結果を表示するために画面が更新されることはありません）。 Mean FirstZero Epochなどを直接比較して、 `Base` パラメータが`NoMomentum`よりわずかに速いことが見て取れるはすです。
- 続いてパラメーターに戻り、セットの1つを複製してください。そして、独自にパラメータのセットを変更して入力して探索してみてください。ベース設定に勝てるかどうか確認してみましょう！ `Network`の後にある`*params.Sel`ボタンをクリックするだけで、 `Sheet`の中にある実際のパラメーターが設定されます。
- 左側の[ `Net` ]ボタンをクリックしてから、レイヤーの1つをクリックし、レイヤーレベルのパラメーター（ `Act` 、 `Inhib` 、 `Learn` ）に移動します。そして、`Prjn`のいずれかをクリックすると、`Learn`における投射のパラメーターを表示できます。  Paramsセットでこれらのパラメーターのいずれかを指定するためのパスを確認できるはずです。
- ラベルのコンテキストメニュー操作を介して、あらゆるパラメーターへのパスを表示する関数を追加する予定です。

## コマンドラインから実行する

コマンドラインで以下を入力してください：

```bash
./ra25 -help
```

通すことのできる引数のリストを表示するには：引数を通すと、モデルがGUIなしで実行され、実行するごとにログファイルと、オプションで最終的なウェイトファイルが保存されます。

# コード編成と注意点

ほとんどのコードはコメントがつけられています。何をやっているか知りたい場合は直接コードを読んでみてください。ここに、コード構造全体に関するいくつかの一般的な組織上の注意事項を示しておきます。

- すべてのコードを1つのファイルに保存して、他のユーザーと簡単に共有できるようにすることをお勧めします。ただし、サイズが大きくなりすぎる場合は分割しても問題ありません。たとえば、logがたくさんあった場合は別のファイルを作成しましょう。

- Goでは、好きなように整理できます。Goコードの順序に制約はありません。 Pythonでは、すべてのメソッドはメインのSimクラス定義内になければなりませんが、そうでない場合、順序は関係ありません。

- GUIの構成と要素はすべてオプションであり、-noguiスタートアップ引数と他の引数を使用すると、GUIなしでモデルを実行できます。

- モデルに関連付けられたより複雑な環境がある場合は、常に別のファイルに配置して、他のモデルで簡単に再利用できるようになります。

- paramsエディタは`SavedParamsSets` を使って簡単にファイル保存ができます。デフォルトの名前は”params.go”です。
    また、それをparamsのデフォルトのセットとして使用するように、プロジェクトを切り替えることもできます。常に最後に保存したパラメータが使用されます。
